<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">

<!-- Mirrored from blog.atom.io/2014/10/31/language-scoped-config.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Sep 2022 14:36:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../../css/application.css">
  <link rel="shortcut icon" href="../../../favicon.ico"/>
  <link type="application/atom+xml" rel="alternate" href="../../../feed.xml" title="Atom Blog" />
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Language Specific Configuration Settings | Atom Blog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Language Specific Configuration Settings" />
<meta name="author" content="benogle" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Update: The scoped-properties directory in language packages is now named settings. See the master branch of the language-gfm and language-python packages for the latest examples." />
<meta property="og:description" content="Update: The scoped-properties directory in language packages is now named settings. See the master branch of the language-gfm and language-python packages for the latest examples." />
<link rel="canonical" href="language-scoped-config.html" />
<meta property="og:url" content="language-scoped-config.html" />
<meta property="og:site_name" content="Atom Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-10-31T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@AtomEditor" />
<meta name="twitter:creator" content="@benogle" />
<meta property="article:publisher" content="https://www.facebook.com/GitHub" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.atom.io/2014/10/31/language-scoped-config.html"},"url":"https://blog.atom.io/2014/10/31/language-scoped-config.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://blog.atom.io/img/blog-logo.png"},"name":"benogle"},"headline":"Language Specific Configuration Settings","dateModified":"2014-10-31T00:00:00+00:00","datePublished":"2014-10-31T00:00:00+00:00","author":{"@type":"Person","name":"benogle"},"description":"Update: The scoped-properties directory in language packages is now named settings. See the master branch of the language-gfm and language-python packages for the latest examples.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3769691-48', 'auto');
    ga('send', 'pageview');
  </script>
</head>
<body>

  <div class="footer-push">

    <div class="top-bar">
  <div class="wrapper">
    <ul class="navigation">
      <li><h1 title="Atom: A hackable text editor for the 21st Century"><a href="https://atom.io/" class="logo-small"></a></h1></li>
      <li><a href="https://atom.io/packages">Packages</a></li>
      <li><a href="https://atom.io/themes">Themes</a></li>
      <li><a href="https://atom.io/docs">Documentation</a></li>
      <li><a href="../../../index.html" class="is-selected">Blog</a></li>
      <li><a href="https://discuss.atom.io/">Discuss</a></li>
    </ul>

    <div class="top-bar-right">
      <a href="../../../feed.xml" class="rss-link"><span class="octicon octicon-rss"></span> Subscribe</a>
    </div>
  </div>
</div>


    <div class="wrapper content-push">
<div class="post">
  <h2 class="post-name">Language Specific Configuration Settings</h2>

  <p class="who-when">
    <span class="octicon octicon-calendar"></span> October 31, 2014 <a href="https://github.com/benogle" class="author-link"><img class="avatar avatar-small" alt="benogle" width="18" height="18" data-proofer-ignore="true" src="https://avatars3.githubusercontent.com/benogle?v=3&amp;s=18" srcset="https://avatars3.githubusercontent.com/benogle?v=3&amp;s=18 1x, https://avatars3.githubusercontent.com/benogle?v=3&amp;s=36 2x, https://avatars3.githubusercontent.com/benogle?v=3&amp;s=54 3x, https://avatars3.githubusercontent.com/benogle?v=3&amp;s=72 4x"> benogle</a>
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="AtomEditor">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </p>
  <div class="post markdown">
    <blockquote>
  <p><strong>Update:</strong> The <code class="highlighter-rouge">scoped-properties</code> directory in language packages is now named <code class="highlighter-rouge">settings</code>. See the <code class="highlighter-rouge">master</code> branch of the <a href="https://github.com/atom/language-gfm">language-gfm</a> and <a href="https://github.com/atom/language-python">language-python</a> packages for the latest examples.</p>
</blockquote>

<p>Previously Atom had no way to set language-specific configuration settings without a package. Language-specific settings are now built in <img class="emoji" title=":tada:" alt=":tada:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" height="20" width="20">. For example, you may want Atom to soft wrap markdown files, have two-space tabs for ruby files, and four-space tabs for python files.</p>

<p>There are several settings now scoped to an editor’s language. Here is the list so far:</p>

<ul>
  <li><code class="highlighter-rouge">editor.tabLength</code></li>
  <li><code class="highlighter-rouge">editor.softWrap</code></li>
  <li><code class="highlighter-rouge">editor.softWrapAtPreferredLineLength</code></li>
  <li><code class="highlighter-rouge">editor.preferredLineLength</code></li>
  <li><code class="highlighter-rouge">editor.scrollPastEnd</code></li>
  <li><code class="highlighter-rouge">editor.showInvisibles</code></li>
  <li><code class="highlighter-rouge">editor.showIndentGuide</code></li>
  <li><code class="highlighter-rouge">editor.nonWordCharacters</code></li>
  <li><code class="highlighter-rouge">editor.invisibles</code></li>
  <li><code class="highlighter-rouge">editor.autoIndent</code></li>
  <li><code class="highlighter-rouge">editor.normalizeIndentOnPaste</code></li>
</ul>

<h2 id="language-specific-settings-in-the-settings-view">Language-specific Settings in the Settings View</h2>

<p>Now you can edit these config settings in the settings view on a per-language basis. Just search for the language of your choice in the left panel, select it, and edit away!</p>

<p><img src="https://cloud.githubusercontent.com/assets/69169/4852963/5f8c3968-6081-11e4-8b3e-590b1e3e8245.png" alt="screen shot 2014-10-30 at 3 08 38 pm"></p>

<h2 id="language-specific-settings-in-your-config-file">Language-specific Settings in your Config File</h2>

<p>Open your config file via the command palette (<code class="highlighter-rouge">cmd-shift-p</code> or <code class="highlighter-rouge">ctrl-shift-p</code> for windows / linux), type <code class="highlighter-rouge">open config</code>, and hit enter.</p>

<p>Global settings are now under a <code class="highlighter-rouge">global</code> key, and each language can have its own top-level key. This key is the language’s <a href="https://github.com/atom/language-python/blob/master/grammars/python.cson#L1">scope</a>. Language-specific settings override anything set in the <code class="highlighter-rouge">global</code> section.</p>

<div class="language-coffee highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">'global'</span><span class="o">:</span> <span class="c1"># all languages unless overridden</span>
  <span class="s">'editor'</span><span class="o">:</span>
    <span class="s">'softWrap'</span><span class="o">:</span> <span class="no">false</span>
    <span class="s">'tabLength'</span><span class="o">:</span> <span class="mi">8</span>

<span class="s">'.source.gfm'</span><span class="o">:</span> <span class="c1"># markdown overrides</span>
  <span class="s">'editor'</span><span class="o">:</span>
    <span class="s">'softWrap'</span><span class="o">:</span> <span class="no">true</span>

<span class="s">'.source.ruby'</span><span class="o">:</span> <span class="c1"># ruby overrides</span>
  <span class="s">'editor'</span><span class="o">:</span>
    <span class="s">'tabLength'</span><span class="o">:</span> <span class="mi">2</span>

<span class="s">'.source.python'</span><span class="o">:</span> <span class="c1"># python overrides</span>
  <span class="s">'editor'</span><span class="o">:</span>
    <span class="s">'tabLength'</span><span class="o">:</span> <span class="mi">4</span>
</code></pre></div></div>

<h3 id="finding-a-languages-scope-name">Finding a language’s scope name</h3>

<p>The scope name is shown in the settings view for each language. Search for the language of your choice in the left panel, select it, and you should see the scope name under the language name heading:</p>

<p><img src="https://cloud.githubusercontent.com/assets/69169/4852978/8905f9f0-6081-11e4-8e5c-a6851e705871.png" alt="screen shot 2014-10-30 at 3 09 57 pm"></p>

<h2 id="using-in-your-own-packages">Using in your own packages</h2>

<p>You can use scoped settings in your own packages. <a href="https://atom.io/docs/api/latest/Config#instance-get">Config::get</a> now accepts a <code class="highlighter-rouge">scopeDescriptor</code> and <a href="https://atom.io/docs/api/latest/Config#instance-set">Config::set</a> accepts a <code class="highlighter-rouge">scopeSelector</code>. See the <a href="https://flight-manual.atom.io/behind-atom/sections/scoped-settings-scopes-and-scope-descriptors/">the scopes docs</a> to learn more about scopes.</p>

<p>The simplest way to implement language specific settings is to <code class="highlighter-rouge">get</code> your setting with the language scope descriptor — the editor’s root scope descriptor.</p>

<div class="language-coffee highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Falls back to a global value if no language specific value is defined.</span>
<span class="nx">atom</span><span class="p">.</span><span class="na">config</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="nx">editor</span><span class="p">.</span><span class="na">getRootScopeDescriptor</span><span class="p">(),</span> <span class="s">'my-package.my-setting'</span><span class="p">)</span>
</code></pre></div></div>

<p>You can watch for changes on a given keyPath for a scope with <a href="https://atom.io/docs/api/latest/Config#instance-observe">Config::observe</a>.</p>

<div class="language-coffee highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">atom</span><span class="p">.</span><span class="na">config</span><span class="p">.</span><span class="na">observe</span> <span class="nx">editor</span><span class="p">.</span><span class="na">getRootScopeDescriptor</span><span class="p">(),</span> <span class="s">'my-package.my-setting'</span><span class="p">,</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">-&gt;</span>
  <span class="c1"># do stuff</span>
</code></pre></div></div>

<p>When watching for changes to a config setting for a given scope, you should take grammar changes into account.</p>

<div class="language-coffee highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">editor</span> <span class="o">=</span> <span class="nx">atom</span><span class="p">.</span><span class="na">workspace</span><span class="p">.</span><span class="na">getActiveTextEditor</span><span class="p">()</span>
<span class="nx">subscription</span> <span class="o">=</span> <span class="no">null</span>
<span class="nx">editor</span><span class="p">.</span><span class="na">observeGrammar</span> <span class="p">(</span><span class="nx">grammar</span><span class="p">)</span> <span class="o">-&gt;</span>
  <span class="nx">subscription</span><span class="o">?</span><span class="p">.</span><span class="na">dispose</span><span class="p">()</span>
  <span class="c1"># re-observe the setting when the grammar is changed.</span>
  <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">atom</span><span class="p">.</span><span class="na">config</span><span class="p">.</span><span class="na">observe</span> <span class="nx">editor</span><span class="p">.</span><span class="na">getRootScopeDescriptor</span><span class="p">(),</span> <span class="s">'my-package.my-setting'</span><span class="p">,</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="c1"># do stuff</span>
</code></pre></div></div>

<h2 id="language-defaults">Language defaults</h2>

<p>A language grammar can provide language-specific defaults. For example, the Markdown grammar now defaults <code class="highlighter-rouge">editor.softWrap</code> to <code class="highlighter-rouge">true</code> in its <a href="https://github.com/atom/language-gfm/blob/4404b63c0d42fff71bab4e84bf81e859701cbb3b/scoped-properties/gfm.cson#L3">scoped-properties file</a>, and Python now has a <a href="https://github.com/atom/language-python/blob/03501b6a8eab0341fbaeb188f6876c4dd8c74cb2/scoped-properties/language-python.cson#L3">default tab length</a> of 4.</p>

<h2 id="conclusion">Conclusion</h2>

<p>We hope this improves the editing experience to all of you who regularly use a variety of languages!</p>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://flight-manual.atom.io/behind-atom/sections/scoped-settings-scopes-and-scope-descriptors/">Docs on scopes and scope descriptors</a></li>
  <li><a href="https://atom.io/docs/api/latest/Config">Config class API docs</a></li>
</ul>


  </div>
</div>

<div class="feedback">
  <p>Have feedback on this post? Let <a class="twitter-handle" href="https://twitter.com/intent/tweet?text=@AtomEditor%20&amp;related=atomeditor&amp;url=/2014/10/31/language-scoped-config.html">@AtomEditor</a> know on Twitter.</p>
  <p>Need help or found a bug? <a href="https://atom.io/contact">Contact us.</a></p>
</div>
</div>

    <div class="footer-pad"></div>
  </div>

  <footer>
  <div class="footer">
    <div class="wrapper">
      <ul class="footer-left">
        <li><a href="https://github.com/site/terms">Terms of Use</a></li>
        <li><a href="https://atom.io/releases">Releases</a></li>
        <li><a href="https://atom.io/faq">FAQ</a></li>
        <li><a href="https://atom.io/contact">Contact</a></li>
      </ul>

      <div class="footer-right">
        <a href="https://github.com/"><span class="octicon octicon-code"></span> with <span class="octicon octicon-heart"></span> by <span class="octicon octicon-logo-github"></span></a>
      </div>
    </div>
  </div>
</footer>

</body>

<!-- Mirrored from blog.atom.io/2014/10/31/language-scoped-config.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Sep 2022 14:36:29 GMT -->
</html>
